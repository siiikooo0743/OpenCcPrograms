--[[
	BuildPlatform
	
	Copyright (C) 2015,2016 siiikooo0743
	
	This programm is part of the OpenCcPrograms-project and licensed under the GPLv3, 
	see LicenseDetails for more details and LICENSE for the complete license.
	
	Author: siiikooo0743
	Website: https://github.com/siiikooo0743/OpenCcPrograms
	Version 1.4.5
	
	Whith this program a turtle builds a platform with the materail in his inventory.
	The first two arguments specifie the size of the platform.
]]

chest = peripheral.wrap("front")

function getItems(items, amount)
  for slot = 1, 9, 1 do
    if #items < slot then
     return
    end
    
    if items[slot] ~= nil then
      found = false
      while not found do
        allItems = chest.getAllStacks(false)
        for chestSlot, item in pairs(allItems) do
          if item["id"] == items[slot]  and item["qty"] >= amount then
            found = true
            chest.pushItemIntoSlot("WEST",chestSlot,amount, slot)
            break
	        end
        end
        if(not found) then
          print("What? Hey! A item dissapeared! Missing " .. items[slot] .. ". I need " .. amount .. " of them!")
          sleep(10)
        end
      end
    end
  end
end

--Test
getItems({"minecraft:glass"}, 20)
